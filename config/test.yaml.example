# 测试环境配置示例
# 复制此文件为 test.yaml 并填入实际配置

env: test
debug: true

# JWT 配置
jwt_secret_key: "test-secret-key-12345678"
jwt_algorithm: HS256
jwt_expire_hours: 24

# 数据库配置 (测试环境使用独立数据库)
database:
  url: "postgresql://${DB_USER:postgres}:${DB_PASSWORD:postgres}@${DB_HOST:localhost}:${DB_PORT:5432}/${DB_NAME:meeting_agent_test}"
  pool_size: 5
  max_overflow: 10
  echo: false

# Redis 配置
redis:
  host: ${REDIS_HOST:localhost}
  port: ${REDIS_PORT:6379}
  password: ${REDIS_PASSWORD:}
  db: 1  # 使用不同的 DB 避免冲突
  max_connections: 10

# 火山引擎配置 (测试环境)
volcano:
  access_key: ${VOLCANO_ACCESS_KEY}
  secret_key: ${VOLCANO_SECRET_KEY}
  app_id: ${VOLCANO_APP_ID}
  cluster_id: ${VOLCANO_CLUSTER_ID}
  tos_bucket: ${VOLCANO_TOS_BUCKET}
  tos_region: cn-beijing
  api_endpoint: https://openspeech.bytedance.com/api/v1/asr
  max_retries: 2
  timeout: 60

# Azure 配置
azure:
  subscription_keys:
    - ${AZURE_KEY_1}
  region: eastus
  max_retries: 2
  timeout: 60

# 科大讯飞配置
iflytek:
  app_id: ${IFLYTEK_APP_ID}
  api_key: ${IFLYTEK_API_KEY}
  api_secret: ${IFLYTEK_API_SECRET}
  api_endpoint: https://api.xfyun.cn/v1/private/sf8e6aca1
  group_id: ${IFLYTEK_GROUP_ID}
  max_retries: 2
  timeout: 30

# Gemini 配置
gemini:
  api_keys:
    - ${GEMINI_API_KEY_1}
  model: gemini-2.0-flash-exp
  max_tokens: 4096
  temperature: 0.7
  max_retries: 2
  timeout: 60

# 日志配置
log:
  level: DEBUG
  format: json
  output: stdout
  filter_sensitive: true

# 存储配置
storage:
  provider: tos
  bucket: ${STORAGE_BUCKET}
  region: ${STORAGE_REGION:cn-beijing}
  access_key: ${STORAGE_ACCESS_KEY}
  secret_key: ${STORAGE_SECRET_KEY}
  temp_file_ttl: 3600

# 业务配置
audio_retention_days: 1
enable_speaker_recognition: true
default_asr_provider: volcano
