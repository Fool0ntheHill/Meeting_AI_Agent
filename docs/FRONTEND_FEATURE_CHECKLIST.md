# 前端功能实现清单

**项目**: 会议纪要 Agent  
**版本**: v1.0  
**更新日期**: 2026-01-16

---

## 功能模块概览

- ✅ 已完成
- 🔄 进行中
- ⏳ 待开始
- ❌ 已取消

---

## 1. 用户认证模块

### 1.1 登录功能
- ⏳ 登录页面 UI
- ⏳ 企业微信扫码登录（生产环境）
- ✅ 开发环境用户名登录 (`POST /api/v1/auth/dev/login`) - 后端已实现
- ⏳ Token 存储到 localStorage
- ⏳ 登录成功跳转到主页
- ⏳ 登录失败错误提示
- ⏳ 获取用户信息（姓名、部门）

### 1.2 Token 管理
- ⏳ Token 自动过期检测
- ⏳ Token 过期自动跳转登录
- ⏳ 请求拦截器自动添加 Authorization 头
- ⏳ 401 错误自动清除 Token

### 1.3 退出登录
- ⏳ 退出按钮
- ⏳ 清除 Token
- ⏳ 跳转到登录页

---

## 2. 任务管理模块

### 2.1 任务列表页面
- ⏳ 任务列表展示
  - ⏳ 任务 ID
  - ⏳ 会议类型
  - ⏳ 创建时间
  - ⏳ 任务状态 (进行中/已完成/失败)
  - ⏳ 进度百分比
- ✅ 状态筛选 (全部/进行中/已完成/失败) - 后端已实现
- ✅ 文件夹筛选 - 后端已实现 ✨ 新增
- ⏳ 分页功能
- ⏳ 刷新按钮
- ⏳ 创建新任务按钮
- ⏳ 点击任务查看详情
- ⏳ 批量选择和操作 ✨ 新增
  - ✅ 批量移动到文件夹 - 后端已实现
  - ✅ 批量删除 - 后端已实现

### 2.2 创建任务页面
- ⏳ 主页 UI（类似 LLM Web 端布局）
- ⏳ "生成新的会议纪要"按钮
- ✅ 音频文件上传 - 后端已实现
  - ⏳ 拖拽上传区域
  - ⏳ 支持多文件上传
  - ⏳ 文件拖拽排序（Part 1, 2, 3）
  - ⏳ 显示文件名、大小、时长
  - ⏳ 删除已上传文件
  - ✅ 文件格式验证 (.wav/.opus/.mp3/.m4a) - 后端已实现
  - ✅ 文件大小限制 (500MB) - 后端已实现
  - ⏳ 上传进度显示
- ⏳ 会议类型选择（提示词模板）
  - ⏳ 选项卡展示（6 种类型）
  - ⏳ 🃏 通用会议（默认）
  - ⏳ 🧠 头脑风暴
  - ⏳ 🤝 面试/HR
  - ⏳ 🚀 每日站会
  - ⏳ 📊 周会
  - ⏳ 📝 需求评审
  - ⏳ 悬停 ⓘ 图标显示详细信息
- ⏳ 自定义提示词
  - ⏳ 提示词编辑框（基于模板）
  - ⏳ 显示当前模板
  - ⏳ 恢复默认模板按钮
- ⏳ 高级选项 (可折叠)
  - ⏳ ASR 语言选择（默认中英混合，自动）
  - ⏳ 输出语言选择（默认中文）
  - ⏳ 跳过说话人识别开关
- ⏳ 成本预估显示
- ⏳ "开始整理"按钮
- ⏳ 表单验证
- ⏳ 提交成功跳转到任务列表或进度页

### 2.3 任务详情页面
- ⏳ 任务基本信息展示
  - ⏳ 任务 ID
  - ⏳ 会议类型
  - ⏳ 创建时间
  - ⏳ 完成时间
  - ⏳ 音频文件列表
- ⏳ 实时状态显示
  - ⏳ 当前阶段 (转写中/识别中/生成中)
  - ⏳ 进度条
  - ⏳ 进度百分比
  - ⏳ 预计剩余时间
- ⏳ 状态轮询 (5 秒间隔)
- ⏳ 错误信息展示 (如果失败)
- ⏳ 完成后跳转到结果页面
- ⏳ 返回任务列表按钮

---

## 4. 人机协同工作台模块

### 4.1 整体布局
- ⏳ 左右分屏布局（6:4 比例）
- ⏳ 顶部工具栏（返回、保存、导出）
- ⏳ 响应式适配（桌面/平板/移动）

### 4.2 左侧：事实层（音频+逐字稿）
- ⏳ 音频播放器
  - ⏳ 音频波形图（Canvas 渲染）
  - ⏳ 播放/暂停控制
  - ⏳ 进度条拖拽
  - ⏳ 播放速度调节（0.5x, 1x, 1.5x, 2x）
  - ⏳ 音量控制
- ⏳ 逐字稿展示
  - ⏳ 按时间戳分段显示
  - ⏳ 说话人标签
  - ⏳ 时间戳点击跳转音频
  - ⏳ 高亮当前播放段落
- ⏳ 逐字稿编辑
  - ⏳ 单击放置光标
  - ⏳ 双击选中词语
  - ⏳ 支持修改文本
  - ⏳ 不支持修改时间轴
  - ⏳ 实时保存（防抖 3 秒）
- ⏳ 说话人修正
  - ⏳ 点击说话人弹出气泡菜单
  - ⏳ "仅修改此处"选项
  - ⏳ "全局重命名"选项
  - ⏳ 修正后自动保存

### 4.3 右侧：智能层（AI 纪要）
- ⏳ Tabs 栏
  - ⏳ [逐字稿] Tab（自动生成）
  - ⏳ [会议纪要] Tab（自动生成）
  - ⏳ [+] 添加新页面按钮
  - ⏳ Tab 切换动画
  - ⏳ Tab 关闭功能
- ⏳ 编辑模式切换 (使用 Vditor)
  - ⏳ [✏️ 手动编辑] 按钮
  - ⏳ Markdown 代码模式
  - ⏳ 所见即所得阅读模式
  - ⏳ 图片插入支持
  - ⏳ 图片在两种模式下显示
- ✅ AI 迭代功能 - 后端已实现
  - ⏳ [🔄 重新生成] 按钮
  - ⏳ 基于修正后逐字稿生成
  - ⏳ 生成进度提示
  - ⏳ 生成完成通知
- ✅ 版本管理 - 后端已实现
  - ⏳ 新版本作为新 Tab
  - ⏳ 版本号显示（v1, v2, v3）
  - ⏳ 版本切换
  - ⏳ 避免覆盖已修改内容
- ⏳ 提示词显示（一期可选）
  - ⏳ 显示当前版本对应提示词
  - ⏳ 重新编辑提示词功能
- ⏳ 用户反馈
  - ⏳ 底部反馈留言板
  - ⏳ 反馈文本输入（选填）
  - ⏳ 隐私保护选项
  - ⏳ "允许 AI 学习"勾选框（默认不勾选）

### 4.4 合规校验与交付
- ⏳ 校验区域
  - ⏳ "已完整阅读并确认无误"勾选框
  - ⏳ [一键复制全部] 按钮（默认灰色）
  - ⏳ 勾选后按钮高亮
  - ⏳ 微动效提示
- ⏳ Dirty Check
  - ⏳ 监听内容修改
  - ⏳ 修改后自动取消勾选
  - ⏳ 按钮恢复灰色
- ⏳ 水印注入
  - ⏳ 生成责任头（时间、责任人、AI 声明）
  - ⏳ 图片 Base64 内联
  - ⏳ 写入剪贴板
  - ⏳ Toast 提示
  - ⏳ 记录操作日志
- ⏳ 企微文档粘贴
  - ⏳ 格式保留
  - ⏳ 图片正常显示
  - ⏳ 水印信息完整

---

## 5. 企业微信集成模块

### 5.1 扫码登录
- ⏳ 显示企微二维码
- ⏳ 扫码授权流程
- ⏳ 获取用户信息
- ⏳ Token 管理

### 5.2 消息通知
- ⏳ Bot 发送模板卡片
- ⏳ 卡片内容（会议名称、时间、链接、摘要）
- ⏳ 点击跳转到工作台
- ⏳ 失败通知

---

## 6. 转写结果模块

### 3.1 转写文本展示
- ⏳ 完整转写文本显示
- ⏳ 按说话人分段显示
- ⏳ 时间戳显示
- ⏳ 说话人高亮
- ⏳ 文本搜索功能
- ⏳ 复制文本按钮

### 3.2 转写文本编辑
- ⏳ 编辑模式切换
- ⏳ 富文本编辑器
- ⏳ 保存修正按钮
- ⏳ 取消编辑按钮
- ⏳ 是否重新生成纪要选项
- ⏳ 保存成功提示

### 3.3 说话人修正
- ⏳ 说话人列表展示
- ⏳ 说话人名称编辑
- ⏳ 批量修正说话人映射
- ⏳ 保存修正按钮
- ⏳ 是否重新生成纪要选项

---

## 4. 会议纪要模块

### 4.1 纪要展示
- ⏳ 会议标题
- ⏳ 参与者列表
- ⏳ 会议摘要
- ⏳ 关键要点列表
- ⏳ 行动项列表
- ⏳ 责任人信息 (如果已确认)
- ⏳ 创建时间
- ⏳ 版本号

### 4.2 版本管理
- ⏳ 版本历史列表
- ⏳ 版本对比功能
- ⏳ 切换版本查看
- ⏳ 版本创建时间
- ⏳ 使用的模板信息

### 4.3 重新生成
- ⏳ 重新生成按钮
- ⏳ 选择新模板
- ⏳ 修改参数
- ⏳ 成本预估显示
- ⏳ 确认生成
- ⏳ 生成进度显示
- ⏳ 生成完成自动刷新

### 4.4 导出功能
- ⏳ 导出为 PDF
- ⏳ 导出为 Word
- ⏳ 导出为 Markdown
- ⏳ 复制到剪贴板
- ⏳ 分享链接生成

---

## 5. 任务确认模块

### 5.1 确认页面
- ⏳ 确认项清单
  - ⏳ 关键结论已确认
  - ⏳ 负责人无误
  - ⏳ 行动项已明确
  - ⏳ 时间节点准确
- ⏳ 责任人信息输入
  - ⏳ 责任人姓名
  - ⏳ 责任人 ID
- ⏳ 全部确认验证
- ⏳ 提交确认按钮
- ⏳ 确认成功提示
- ⏳ 任务状态更新为已归档

---

## 6. 提示词模板模块

### 6.1 模板列表
- ⏳ 系统模板列表
- ⏳ 我的模板列表
- ⏳ 模板卡片展示
  - ⏳ 模板标题
  - ⏳ 模板描述
  - ⏳ 支持的语言
  - ⏳ 生成内容类型
- ⏳ 模板搜索
- ⏳ 模板筛选 (按类型/语言)

### 6.2 创建模板
- ✅ 创建模板接口 - 后端已实现
- ⏳ 创建模板按钮
- ⏳ 模板标题输入
- ⏳ 模板描述输入
- ⏳ 提示词正文编辑器
- ⏳ 占位符说明
- ⏳ 生成内容类型选择
- ⏳ 支持语言选择
- ⏳ 参数定义
- ⏳ 保存按钮
- ⏳ 预览功能

### 6.3 编辑模板
- ✅ 更新模板接口 - 后端已实现
- ⏳ 编辑按钮 (仅私有模板)
- ⏳ 编辑表单
- ⏳ 保存修改
- ⏳ 取消编辑

### 6.4 删除模板
- ✅ 删除模板接口 - 后端已实现
- ⏳ 删除按钮 (仅私有模板)
- ⏳ 删除确认对话框
- ⏳ 删除成功提示

---

## 7. 文件夹和回收站模块 ✨ 新增

### 7.1 文件夹管理
- ✅ 列出文件夹接口 - 后端已实现
- ✅ 创建文件夹接口 - 后端已实现
- ✅ 重命名文件夹接口 - 后端已实现
- ✅ 删除文件夹接口 - 后端已实现
- ⏳ 文件夹树形展示
  - ⏳ 展开/折叠文件夹
  - ⏳ 显示文件夹名称
  - ⏳ 显示会话数量
- ⏳ 创建文件夹
  - ⏳ 创建按钮
  - ⏳ 输入文件夹名称
  - ⏳ 选择父文件夹（可选）
- ⏳ 重命名文件夹
  - ⏳ 右键菜单/编辑按钮
  - ⏳ 输入新名称
- ⏳ 删除文件夹
  - ⏳ 右键菜单/删除按钮
  - ⏳ 确认对话框
  - ⏳ 强制删除选项（包括子内容）
- ⏳ 拖拽移动会话到文件夹
  - ✅ 移动会话接口 - 后端已实现
  - ⏳ 拖拽交互
  - ⏳ 拖拽预览

### 7.2 回收站
- ✅ 列出回收站会话接口 - 后端已实现
- ✅ 软删除会话接口 - 后端已实现
- ✅ 还原会话接口 - 后端已实现
- ✅ 彻底删除会话接口 - 后端已实现
- ⏳ 回收站页面
  - ⏳ 已删除会话列表
  - ⏳ 显示删除时间
  - ⏳ 删除倒计时（30天后自动清理）
- ⏳ 还原会话
  - ⏳ 还原按钮
  - ⏳ 还原到原文件夹
- ⏳ 彻底删除
  - ⏳ 彻底删除按钮
  - ⏳ 确认对话框（警告不可恢复）
- ⏳ 批量操作
  - ✅ 批量还原接口 - 后端已实现
  - ⏳ 批量选择
  - ⏳ 批量还原按钮
  - ⏳ 批量彻底删除按钮
- ⏳ 清空回收站
  - ⏳ 清空按钮
  - ⏳ 确认对话框

---

## 8. 热词管理模块

### 8.1 热词集列表
- ⏳ 热词集列表展示
  - ⏳ 热词集名称
  - ⏳ 作用域 (全局/租户/用户)
  - ⏳ ASR 语言
  - ⏳ 词条数量
  - ⏳ 创建时间
- ⏳ 作用域筛选
- ⏳ 语言筛选

### 7.2 创建热词集
- ⏳ 创建按钮
- ⏳ 热词集名称输入
- ⏳ 作用域选择
- ⏳ ASR 语言选择
- ⏳ 描述输入
- ⏳ 热词文件上传
  - ⏳ 文件格式说明 (.txt, 每行一个词)
  - ⏳ 文件预览
- ⏳ 提交创建
- ⏳ 创建成功提示

### 7.3 更新热词集
- ⏳ 更新按钮
- ⏳ 上传新的热词文件
- ⏳ 更新成功提示

### 7.4 删除热词集
- ⏳ 删除按钮
- ⏳ 删除确认对话框
- ⏳ 删除成功提示

---

## 9. 通用组件

### 9.1 导航栏
- ⏳ Logo
- ⏳ 导航菜单
  - ⏳ 任务列表
  - ⏳ 模板管理
  - ⏳ 热词管理
- ⏳ 用户信息显示
- ⏳ 退出登录按钮

### 8.2 加载状态
- ⏳ 全局 Loading 组件
- ⏳ 骨架屏
- ⏳ 进度条组件
- ⏳ 加载动画

### 8.3 错误处理
- ⏳ 错误提示 Toast
- ⏳ 错误页面 (404/500)
- ⏳ 网络错误提示
- ⏳ 表单验证错误显示

### 8.4 确认对话框
- ⏳ 通用确认对话框组件
- ⏳ 自定义标题和内容
- ⏳ 确认/取消按钮

### 8.5 文件上传
- ⏳ 文件上传组件
- ⏳ 拖拽上传
- ⏳ 进度显示
- ⏳ 文件列表
- ⏳ 删除文件

---

## 9. 响应式设计

### 9.1 桌面端
- ⏳ 1920x1080 适配
- ⏳ 1366x768 适配
- ⏳ 侧边栏布局

### 9.2 平板端
- ⏳ iPad 适配
- ⏳ 响应式导航

### 9.3 移动端
- ⏳ 手机适配
- ⏳ 底部导航
- ⏳ 触摸优化

---

## 10. 性能优化

### 10.1 代码优化
- ⏳ 路由懒加载
- ⏳ 组件懒加载
- ⏳ 图片懒加载
- ⏳ 防抖和节流

### 10.2 缓存策略
- ⏳ API 响应缓存
- ⏳ 静态资源缓存
- ⏳ 本地存储优化

### 10.3 打包优化
- ⏳ 代码分割
- ⏳ Tree Shaking
- ⏳ 压缩优化

---

## 11. 测试

### 11.1 单元测试
- ⏳ 组件测试
- ⏳ 工具函数测试
- ⏳ API 客户端测试

### 11.2 集成测试
- ⏳ 页面流程测试
- ⏳ API 集成测试

### 11.3 E2E 测试
- ⏳ 关键流程测试
- ⏳ 用户场景测试

---

## 12. 文档

### 12.1 开发文档
- ⏳ 项目结构说明
- ⏳ 组件使用文档
- ⏳ API 调用示例
- ⏳ 开发规范

### 12.2 部署文档
- ⏳ 构建步骤
- ⏳ 环境配置
- ⏳ 部署流程

---

## 优先级建议

### P0 (核心功能，必须实现)
1. 用户认证 (登录/Token 管理)
2. 创建任务
3. 任务状态查询
4. 查看会议纪要
5. 基础错误处理

### P1 (重要功能，尽快实现)
1. 任务列表
2. 转写文本查看
3. 重新生成纪要
4. 任务确认
5. 提示词模板选择

### P2 (增强功能，后续实现)
1. 转写文本编辑
2. 说话人修正
3. 版本管理
4. 导出功能
5. 模板管理

### P3 (可选功能，有时间再做)
1. 热词管理
2. 高级筛选
3. 数据统计
4. 移动端适配

---

## 技术栈建议

### 前端框架
- **React** + TypeScript (推荐)
- **Vue 3** + TypeScript
- **Next.js** (如需 SSR)

### UI 组件库
- **Ant Design** (企业级)
- **Material-UI**
- **Chakra UI**

### 状态管理
- **Zustand** (轻量)
- **Redux Toolkit**
- **Pinia** (Vue)

### HTTP 客户端
- **Axios**
- **Fetch API**

### 文件上传
- **react-dropzone**
- **vue-upload-component**

### 富文本编辑
- **Quill**
- **TinyMCE**

### 导出功能
- **jsPDF** (PDF)
- **docx** (Word)

---

## 开发时间估算

| 模块 | 预估时间 |
|------|---------|
| 用户认证 | 2 天 |
| 任务管理 | 5 天 |
| 转写结果 | 3 天 |
| 会议纪要 | 4 天 |
| 任务确认 | 2 天 |
| 模板管理 | 3 天 |
| 热词管理 | 2 天 |
| 通用组件 | 3 天 |
| 测试 | 3 天 |
| 优化和调试 | 3 天 |
| **总计** | **30 天** |

---

**备注**: 
- 以上时间为单人开发估算
- 实际时间可能因技术栈和经验而异
- 建议采用敏捷开发，分阶段交付
