# å‰ç«¯ç”¨æˆ·å·¥ä½œæµç¨‹è¯¦è§£

**åŸºäºå®é™…ç”¨æˆ·åœºæ™¯çš„å®Œæ•´å·¥ä½œæµç¨‹**

---

## ğŸ“‹ å®Œæ•´ç”¨æˆ·æ—…ç¨‹

### é˜¶æ®µä¸€ï¼šç‰©ç†å½•åˆ¶ä¸å®‰å…¨ä¼ è¾“

#### 1.1 ä¼šè®®å½•åˆ¶
- **è®¾å¤‡**ï¼šç§‘å¤§è®¯é£ SR302 å½•éŸ³ç¬”
- **æ–‡ä»¶å‘½å**ï¼šè‡ªåŠ¨ä»¥æ—¶é—´å’Œé¡ºåºå‘½åï¼ˆå¦‚ `2026å¹´01æœˆ12æ—¥_1.opus`ï¼‰
- **å¼‚å¸¸å¤„ç†**ï¼šä¸­é€”ä¸­æ–­ä¼šç”Ÿæˆå¤šä¸ªæ–‡ä»¶ï¼ˆ`_1`, `_2`, `_3`ï¼‰

#### 1.2 ç‰©ç†æŒ‚è½½
- **è¿æ¥æ–¹å¼**ï¼šUSB æ•°æ®çº¿è¿æ¥è‡³ç”µè„‘ï¼ˆç¦»çº¿æ¨¡å¼ï¼‰
- **æ–‡ä»¶æ ¼å¼**ï¼šä¼˜å…ˆä½¿ç”¨ `.opus` æ ¼å¼ï¼ˆå¦‚æ•ˆæœä¸ä½³åˆ™ç”¨ `.wav`ï¼‰
- **ä¼ è¾“é€Ÿåº¦**ï¼šçº¦ 25MB/sï¼ˆ2å°æ—¶ä¼šè®® wav æ–‡ä»¶çº¦ 10 ç§’ä¼ è¾“å®Œæˆï¼‰

---

### é˜¶æ®µäºŒï¼šæ™ºèƒ½é…ç½®ä¸ä¸Šä¼ 

#### 2.1 ç™»å½•ç³»ç»Ÿï¼ˆç”Ÿäº§ç¯å¢ƒã€å½“å‰å¼€å‘ç¯å¢ƒå…ˆç”¨ç®€å•ç”¨æˆ·åã€å¯†ç ç™»å½•ï¼‰
**é¡µé¢**: ä¼šè®® Agent Home Pageï¼ˆå…¬å¸å†…ç½‘ï¼‰

**è®¤è¯æ–¹å¼**: ä¼ä¸šå¾®ä¿¡æ‰«ç ç™»å½•

```typescript
// å‰ç«¯å®ç°è¦ç‚¹
interface WeChatLoginResponse {
  access_token: string;
  user_id: string;
  tenant_id: string;
  user_name: string;
  department: string;
}

// æ‰«ç ç™»å½•æµç¨‹
1. æ˜¾ç¤ºä¼ä¸šå¾®ä¿¡äºŒç»´ç 
2. ç”¨æˆ·æ‰«ç æˆæƒ
3. è·å– access_token
4. è·³è½¬åˆ°ä¸»é¡µé¢
```

**UI å¸ƒå±€**: ç±»ä¼¼ LLM Web ç«¯çš„å¸ƒå±€

#### 2.2 åˆ›å»ºæ–°çºªè¦
**å…¥å£**: ç‚¹å‡»"ç”Ÿæˆæ–°çš„ä¼šè®®çºªè¦"æŒ‰é’®

#### 2.3 æ–‡ä»¶ä¸Šä¼ ä¸æ’åº
**äº¤äº’æ–¹å¼**: æ‹–æ‹½ä¸Šä¼ 

**åŠŸèƒ½è¦æ±‚**:
- âœ… æ”¯æŒæ‹–æ‹½ä¸€ä¸ªæˆ–å¤šä¸ªéŸ³é¢‘æ–‡ä»¶åˆ°ä¸Šä¼ åŒº
- âœ… æ”¯æŒæ‹–æ‹½æ’åºï¼ˆPart 1, Part 2, Part 3ï¼‰
- âœ… åå°è‡ªåŠ¨æŒ‰é¡ºåºæ‹¼æ¥æˆå®Œæ•´éŸ³é¢‘
- âœ… æ˜¾ç¤ºæ–‡ä»¶åã€å¤§å°ã€æ—¶é•¿
- âœ… æ”¯æŒåˆ é™¤å·²ä¸Šä¼ æ–‡ä»¶

```typescript
interface AudioFileUpload {
  file: File;
  order: number;  // æ‹¼æ¥é¡ºåº
  file_path?: string;  // ä¸Šä¼ åçš„è·¯å¾„
  duration?: number;  // éŸ³é¢‘æ—¶é•¿ï¼ˆç§’ï¼‰
  size: number;  // æ–‡ä»¶å¤§å°ï¼ˆå­—èŠ‚ï¼‰
}

// æ‹–æ‹½æ’åºç¤ºä¾‹
const [audioFiles, setAudioFiles] = useState<AudioFileUpload[]>([]);

function handleDrop(files: File[]) {
  const newFiles = files.map((file, index) => ({
    file,
    order: audioFiles.length + index,
    size: file.size,
  }));
  setAudioFiles([...audioFiles, ...newFiles]);
}

function handleReorder(fromIndex: number, toIndex: number) {
  const reordered = [...audioFiles];
  const [moved] = reordered.splice(fromIndex, 1);
  reordered.splice(toIndex, 0, moved);
  
  // æ›´æ–° order
  reordered.forEach((file, index) => {
    file.order = index;
  });
  
  setAudioFiles(reordered);
}
```

#### 2.4 ç­–ç•¥å®šè°ƒï¼ˆä¼šè®®ç±»å‹é€‰æ‹©ï¼‰
**å…³é”®æ­¥éª¤**: é€‰æ‹©ä¼šè®®ç±»å‹å†³å®šæç¤ºè¯æ¨¡æ¿ï¼ˆä»æç¤ºè¯æ¨¡æ¿å¹¿åœºé‡Œè¯»å–ï¼‰

**é€‰é¡¹èœå•** (ä¼˜å…ˆçº§ P2):

| å›¾æ ‡ | ç±»å‹ | ä¾§é‡ç‚¹ | æç¤ºè¯æ¨¡æ¿ ID |
|------|------|--------|--------------|
| ğŸƒ | é€šç”¨ä¼šè®®ï¼ˆé»˜è®¤ï¼‰ | å…¨é¢è®°å½•è®®é¢˜è„‰ç»œã€æ ¸å¿ƒè®¨è®ºã€ç»“è®ºä¸å¾…åŠ | `global_general_meeting_v1` |
| ğŸ§  | å¤´è„‘é£æš´ | åˆ›æ„ç‚¹ç½—åˆ—ã€æ€ç»´å»¶ä¼¸äº®ç‚¹ã€ç­›é€‰å»ºè®® | `global_brainstorming_v1` |
| ğŸ¤ | é¢è¯•/HR | å€™é€‰äººç»å†ã€å›ç­”é€»è¾‘ã€ç»¼åˆè¯„ä»· | `global_interview_v1` |
| ğŸš€ | æ¯æ—¥ç«™ä¼š | æ˜¨æ—¥è¿›åº¦ã€ä»Šæ—¥è®¡åˆ’ã€é˜»ç¢/é£é™© | `global_daily_standup_v1` |
| ğŸ“Š | å‘¨ä¼š | é‡Œç¨‹ç¢‘ã€æ•°æ®æŒ‡æ ‡ã€ä¸‹å‘¨å®‰æ’ | `global_weekly_meeting_v1` |
| ğŸ“ | éœ€æ±‚è¯„å®¡ | ç¡®è®¤åŠŸèƒ½ç‚¹ã€å¦å†³éœ€æ±‚ã€é—ç•™é—®é¢˜ | `global_requirement_review_v1` |

**äº¤äº’ç»†èŠ‚**:
- æ‚¬åœé€‰é¡¹å¡å†… â“˜ å›¾æ ‡æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯
- é€‰æ‹©åè‡ªåŠ¨åŠ è½½å¯¹åº”çš„æç¤ºè¯æ¨¡æ¿

```typescript
interface MeetingTypeOption {
  id: string;
  icon: string;
  name: string;
  description: string;
  template_id: string;
  focus_points: string[];
}

const meetingTypes: MeetingTypeOption[] = [
  {
    id: 'general',
    icon: 'ğŸƒ',
    name: 'é€šç”¨ä¼šè®®',
    description: 'é»˜è®¤æ¨¡æ¿ï¼Œé€‚ç”¨äºå¤§å¤šæ•°ä¼šè®®åœºæ™¯',
    template_id: 'global_general_meeting_v1',
    focus_points: [
      'ä¼šè®®è®®é¢˜è„‰ç»œ',
      'æ ¸å¿ƒè®¨è®ºç»†èŠ‚',
      'æœ€ç»ˆç»“è®ºä¸å¾…åŠäº‹é¡¹'
    ]
  },
  // ... å…¶ä»–ç±»å‹
];
```

#### 2.5 è‡ªå®šä¹‰æç¤ºè¯
**åŠŸèƒ½**: åŸºäºæ¨¡æ¿è‡ªå®šä¹‰ä¿®æ”¹ï¼ˆå’Œæç¤ºè¯æ¨¡æ¿å¹¿åœºåŒæ­¥ï¼‰

**UI ç»„ä»¶**:
- æç¤ºè¯ç¼–è¾‘æ¡†ï¼ˆæ”¯æŒ Markdownï¼‰
- æä¾›ä¿å­˜åˆ°æˆ‘â€œæˆ‘çš„æ¨¡æ¿â€ï¼ˆæ”¾å…¥æç¤ºè¯æ¨¡æ¿å¹¿åœºï¼‰
- æ˜¾ç¤ºå½“å‰ä½¿ç”¨çš„æ¨¡æ¿
- æ”¯æŒæ¢å¤é»˜è®¤æ¨¡æ¿

```typescript
interface PromptCustomization {
  template_id: string;
  custom_prompt?: string;  // ç”¨æˆ·è‡ªå®šä¹‰å†…å®¹
  parameters: {
    meeting_description?: string;
    focus_points?: string;
    output_format?: string;
  };
}
```

#### 2.6 å¼€å§‹å¤„ç†
**æŒ‰é’®**: "å¼€å§‹æ•´ç†"

**è¡Œä¸º**:
- æ–‡ä»¶è¿›å…¥åå°é˜Ÿåˆ—
- ç”¨æˆ·å¯å…³é—­é¡µé¢
- ä¹Ÿå¯ç•™åœ¨é¡µé¢æŸ¥çœ‹è¿›åº¦æ¡

**é»˜è®¤ç­–ç•¥**:
- ASR è¯­è¨€ï¼šä¸­è‹±æ–‡æ··åˆè½¬å†™ï¼ˆè‡ªåŠ¨ï¼‰
- è¾“å‡ºè¯­è¨€ï¼šä¸­æ–‡ä¸ºä¸»ï¼Œè‹±æ–‡æŠ€æœ¯åè¯ä¿ç•™

**å¤±è´¥é‡è¯•**:
- ä»»åŠ¡åˆ—è¡¨æ˜¾ç¤ºå¤±è´¥åŸå› 
- ä¼ä¸šå¾®ä¿¡é€šçŸ¥å¤±è´¥
- æ”¯æŒå®‰å…¨é‡è¯•

---

### é˜¶æ®µä¸‰ï¼šå¼‚æ­¥å¤„ç†ä¸é€šçŸ¥

#### 3.1 åå°å¤„ç†æµç¨‹
**é»‘ç›’å¤„ç†**:
1. ç«å±±å¼•æ“ ASRï¼ˆè½¬æ–‡å­—ï¼‰
2. è®¯é£ SearchFeaï¼ˆåŒºåˆ†è¯´è¯äººï¼‰
3. Gemini 3.0 Proï¼ˆç”Ÿæˆæ‘˜è¦ï¼‰

**å…œåº•é€»è¾‘**:
- ç«å±±å¼•æ“æ•æ„Ÿè¯å¤±è´¥ â†’ è‡ªåŠ¨åˆ‡æ¢ Azure

**é¢„è®¡æ—¶é—´**: ä¼šè®®æ—¶é•¿çš„ 20%

#### 3.2 ä¼ä¸šå¾®ä¿¡é€šçŸ¥
**è§¦è¾¾æ–¹å¼**: ä¼ä¸šå¾®ä¿¡ Bot å‘é€æ¨¡æ¿å¡ç‰‡

**å¡ç‰‡å†…å®¹**:
- ä¼šè®®åç§°
- ä¼šè®®æ—¶é—´
- ä¼šè®®çºªè¦é“¾æ¥
- æ‘˜è¦ï¼ˆ50 å­—ï¼‰

```typescript
interface WeChatNotification {
  title: string;  // ä¼šè®®åç§°
  meeting_time: string;
  link: string;  // çºªè¦é“¾æ¥
  summary: string;  // 50å­—æ‘˜è¦
  status: 'success' | 'failed';
}
```

---

### é˜¶æ®µå››ï¼šäººæœºååŒå·¥ä½œå°

**æ ¸å¿ƒç›®æ ‡**: æ ¡å¯¹ä¸ä¼˜åŒ–ï¼ˆç”¨æˆ·åœç•™æ—¶é—´æœ€é•¿çš„ç•Œé¢ï¼‰

#### 4.1 å¸ƒå±€è®¾è®¡
**å·¦å³åˆ†å±å¸ƒå±€**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [â† è¿”å›ä»»åŠ¡åˆ—è¡¨]  ä¼šè®®çºªè¦å·¥ä½œå°  [ä¿å­˜] [å¯¼å‡º]        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      â”‚                                  â”‚
â”‚  å·¦ä¾§ï¼šäº‹å®å±‚         â”‚  å³ä¾§ï¼šæ™ºèƒ½å±‚                     â”‚
â”‚  (éŸ³é¢‘ + é€å­—ç¨¿)      â”‚  (AI çºªè¦)                       â”‚
â”‚                      â”‚                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ éŸ³é¢‘æ³¢å½¢å›¾      â”‚  â”‚  â”‚ [é€å­—ç¨¿] [ä¼šè®®çºªè¦] [+]    â”‚ â”‚
â”‚  â”‚ â–¶ â”â”â”â”â”â”â”â”â”â”â” â”‚  â”‚  â”‚                            â”‚ â”‚
â”‚  â”‚ 00:12:30       â”‚  â”‚  â”‚ # ä¼šè®®çºªè¦                 â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚                            â”‚ â”‚
â”‚                      â”‚  â”‚ ## ä¼šè®®æ¦‚è¦                â”‚ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚ ...                        â”‚ â”‚
â”‚  â”‚ [00:00:00]     â”‚  â”‚  â”‚                            â”‚ â”‚
â”‚  â”‚ å¼ ä¸‰: å¤§å®¶å¥½... â”‚  â”‚  â”‚ ## å…³é”®è¦ç‚¹                â”‚ â”‚
â”‚  â”‚                â”‚  â”‚  â”‚ 1. ...                     â”‚ â”‚
â”‚  â”‚ [00:00:15]     â”‚  â”‚  â”‚ 2. ...                     â”‚ â”‚
â”‚  â”‚ æå››: æˆ‘è®¤ä¸º... â”‚  â”‚  â”‚                            â”‚ â”‚
â”‚  â”‚                â”‚  â”‚  â”‚ ## è¡ŒåŠ¨é¡¹                  â”‚ â”‚
â”‚  â”‚ [ç¼–è¾‘è¯´è¯äºº]    â”‚  â”‚  â”‚ - [ ] ...                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                      â”‚                                  â”‚
â”‚                      â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚                      â”‚  â”‚ â–¡ å·²å®Œæ•´é˜…è¯»å¹¶ç¡®è®¤æ— è¯¯      â”‚ â”‚
â”‚                      â”‚  â”‚ [ä¸€é”®å¤åˆ¶å…¨éƒ¨] (ç°è‰²)       â”‚ â”‚
â”‚                      â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 4.2 å·¦ä¾§ï¼šäº‹å®å±‚

##### éŸ³é¢‘æ’­æ”¾å™¨
**åŠŸèƒ½**:
- æ˜¾ç¤ºéŸ³é¢‘æ³¢å½¢å›¾
- æ’­æ”¾/æš‚åœæ§åˆ¶
- è¿›åº¦æ¡æ‹–æ‹½
- æ’­æ”¾é€Ÿåº¦è°ƒèŠ‚ï¼ˆ0.5x, 1x, 1.5x, 2xï¼‰

##### éŸ³å­—åŒæ­¥
**æ—¶é—´æˆ³è·³è½¬**:
- ç‚¹å‡»æ®µè½å‰çš„ `[00:12:30]`
- éŸ³é¢‘æ’­æ”¾å™¨ç«‹å³è·³è½¬åˆ°è¯¥æ—¶åˆ»å¹¶æ’­æ”¾

```typescript
interface TranscriptSegment {
  start_time: number;  // ç§’
  end_time: number;
  speaker: string;
  text: string;
}

function handleTimestampClick(timestamp: number) {
  audioPlayer.currentTime = timestamp;
  audioPlayer.play();
}
```

##### æ–‡æœ¬ç¼–è¾‘
**äº¤äº’è§„åˆ™**:
- å·¦é”®å•å‡»ï¼šæ”¾ç½®å…‰æ ‡ï¼ˆæ’å…¥/ä¿®æ”¹ï¼‰
- å·¦é”®åŒå‡»ï¼šé€‰ä¸­è¯è¯­ï¼ˆå¤åˆ¶/åˆ é™¤ï¼‰
- æ”¯æŒä¿®æ”¹é”™åˆ«å­—
- **ä¸æ”¯æŒä¿®æ”¹æ—¶é—´è½´**

```typescript
// ç¼–è¾‘é€å­—ç¨¿
function handleTranscriptEdit(segmentId: string, newText: string) {
  // æ›´æ–°æœ¬åœ°çŠ¶æ€
  updateSegment(segmentId, { text: newText });
  
  // æ ‡è®°ä¸ºå·²ä¿®æ”¹ï¼ˆç”¨äº Dirty Checkï¼‰
  setIsModified(true);
}
```

##### è¯´è¯äººä¿®æ­£
**äº¤äº’æ–¹å¼**: å·¦é”®å•å‡»è¯´è¯äººåå­—ï¼Œå¼¹å‡ºæ°”æ³¡èœå•

**é€‰é¡¹**:
1. **ä»…ä¿®æ”¹æ­¤å¤„**: åªä¿®æ­£å½“å‰è¿™ä¸€å¥
2. **å…¨å±€é‡å‘½å**: æ‰¹é‡ä¿®æ”¹æ‰€æœ‰è¯¥è¯´è¯äººçš„åå­—

```typescript
interface SpeakerCorrectionMenu {
  segment_id: string;
  current_speaker: string;
  options: [
    {
      label: 'ä»…ä¿®æ”¹æ­¤å¤„',
      action: 'single'
    },
    {
      label: 'å…¨å±€é‡å‘½å',
      action: 'global'
    }
  ];
}

function handleSpeakerCorrection(
  action: 'single' | 'global',
  segmentId: string,
  newName: string
) {
  if (action === 'single') {
    // åªä¿®æ”¹å½“å‰æ®µè½
    updateSegment(segmentId, { speaker: newName });
  } else {
    // å…¨å±€é‡å‘½å
    const oldName = getSegment(segmentId).speaker;
    updateAllSpeakers(oldName, newName);
  }
  
  setIsModified(true);
}
```

#### 4.3 å³ä¾§ï¼šæ™ºèƒ½å±‚

##### Tabs æ 
**åŠŸèƒ½**: å¤šé¡µé¢ç®¡ç†

**é»˜è®¤ Tabs**:
- `[é€å­—ç¨¿]` - è‡ªåŠ¨ç”Ÿæˆ
- `[ä¼šè®®çºªè¦]` - è‡ªåŠ¨ç”Ÿæˆ
- `[+]` - æ·»åŠ æ–°é¡µé¢ï¼ˆä½¿ç”¨æ¨¡æ¿ï¼‰

```typescript
interface EditorTab {
  id: string;
  title: string;
  type: 'transcript' | 'minutes' | 'custom';
  content: string;
  is_modified: boolean;
}

const [tabs, setTabs] = useState<EditorTab[]>([
  { id: 'tab1', title: 'é€å­—ç¨¿', type: 'transcript', content: '...', is_modified: false },
  { id: 'tab2', title: 'ä¼šè®®çºªè¦', type: 'minutes', content: '...', is_modified: false },
]);
```

##### ç¼–è¾‘æ¨¡å¼åˆ‡æ¢
**æŒ‰é’®**: `[âœï¸ æ‰‹åŠ¨ç¼–è¾‘]`

**æ¨¡å¼**:
1. **Markdown ä»£ç æ¨¡å¼**: ç›´æ¥ç¼–è¾‘ Markdown æºç 
2. **æ‰€è§å³æ‰€å¾—é˜…è¯»æ¨¡å¼**: æ¸²æŸ“åçš„æ•ˆæœ

**å›¾ç‰‡æ”¯æŒ**:
- æ”¯æŒæ‰‹åŠ¨æ’å…¥å›¾ç‰‡
- ä¸¤ç§æ¨¡å¼ä¸‹éƒ½èƒ½æ˜¾ç¤º

```typescript
type EditorMode = 'markdown' | 'wysiwyg';

const [editorMode, setEditorMode] = useState<EditorMode>('wysiwyg');

function toggleEditorMode() {
  setEditorMode(mode => mode === 'markdown' ? 'wysiwyg' : 'markdown');
}
```

##### AI è¿­ä»£ä¸ç‰ˆæœ¬ç®¡ç†

**é‡æ–°ç”Ÿæˆ**:
- æŒ‰é’®ï¼š`[ğŸ”„ é‡æ–°ç”Ÿæˆ]`
- åŸºäºå·¦ä¾§ï¼ˆå¯èƒ½å·²ä¿®æ­£ï¼‰çš„é€å­—ç¨¿
- é‡æ–°è°ƒç”¨ Gemini ç”Ÿæˆçºªè¦
- ä¸è¦†ç›–å½“å‰å†…å®¹ï¼Œä½œä¸ºæ–°ç‰ˆæœ¬å­˜å…¥

```typescript
async function regenerateMinutes() {
  // 1. è·å–å½“å‰é€å­—ç¨¿ï¼ˆå¯èƒ½å·²ä¿®æ­£ï¼‰
  const transcript = getCurrentTranscript();
  
  // 2. è°ƒç”¨ API é‡æ–°ç”Ÿæˆ
  const response = await api.regenerateArtifact(taskId, 'meeting_minutes', {
    prompt_instance: currentPromptInstance,
  });
  
  // 3. åˆ›å»ºæ–°ç‰ˆæœ¬ Tab
  const newTab = {
    id: `tab_${Date.now()}`,
    title: `ä¼šè®®çºªè¦ v${version + 1}`,
    type: 'minutes',
    content: response.content,
    is_modified: false,
  };
  
  setTabs([...tabs, newTab]);
  setActiveTab(newTab.id);
}
```

**ç‰ˆæœ¬åˆ‡æ¢**:
- Tabs æ æ˜¾ç¤ºæ‰€æœ‰ç‰ˆæœ¬
- ç‚¹å‡»åˆ‡æ¢æŸ¥çœ‹ä¸åŒç‰ˆæœ¬
- é¿å…è¯¯æ“ä½œä¸¢å¤±å†…å®¹

**ä¸€æœŸå¯é€‰åŠŸèƒ½**:
- é‡æ–°ç¼–è¾‘æç¤ºè¯
- æ˜¾ç¤ºå½“å‰ç‰ˆæœ¬å¯¹åº”çš„æç¤ºè¯

##### ç”¨æˆ·åé¦ˆä¸éšç§

**åé¦ˆç•™è¨€æ¿**:
- ä½ç½®ï¼šç¼–è¾‘å™¨åº•éƒ¨
- ç”¨é€”ï¼šæ‰‹åŠ¨ç•™åé¦ˆæ„è§ï¼ˆé€‰å¡«ï¼‰

**éšç§ä¿æŠ¤**:
- é»˜è®¤**ä¸å‹¾é€‰** "å…è®¸ AI å­¦ä¹ æœ¬æ¬¡ä¿®æ­£"
- ç”¨æˆ·éœ€æ‰‹åŠ¨å‹¾é€‰æ‰æˆæƒæ•°æ®ç”¨äºä¼˜åŒ–
- ç¡®ä¿éšç§åˆè§„

```typescript
interface UserFeedback {
  task_id: string;
  feedback_text?: string;
  allow_ai_learning: boolean;  // é»˜è®¤ false
  submitted_at?: string;
}
```

---

### é˜¶æ®µäº”ï¼šåˆè§„æ ¡éªŒä¸äº¤ä»˜

**æ ¸å¿ƒç›®æ ‡**: è§£å†³"AI ä¹±å†™æ— äººè´Ÿè´£"çš„é—®é¢˜ï¼Œå»ºç«‹æ–‡æ¡£è´£ä»»åˆ¶

#### 5.1 æ ¡éªŒæœºåˆ¶

**ä½ç½®**: å³ä¾§çºªè¦ç¼–è¾‘å™¨ä¸‹æ–¹

**é»˜è®¤çŠ¶æ€**:
- `[ä¸€é”®å¤åˆ¶å…¨éƒ¨]` æŒ‰é’®ä¸º**ç°è‰²ä¸å¯ç”¨**

**äº¤äº’åŠ¨ä½œ**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â–¡ å·²ç»å®Œæ•´é˜…è¯»çºªè¦å¹¶ç¡®è®¤å…³é”®å†…å®¹æ— è¯¯ â”‚
â”‚                                    â”‚
â”‚ [ä¸€é”®å¤åˆ¶å…¨éƒ¨] (ç°è‰²/ä¸å¯ç‚¹å‡»)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**çŠ¶æ€å˜æ›´**:
- å‹¾é€‰åï¼ŒæŒ‰é’®å˜ä¸º**é«˜äº®**
- å‡ºç°å¾®åŠ¨æ•ˆæç¤ºå¯ç‚¹å‡»

**Dirty Check**:
- å¦‚æœç”¨æˆ·è¿”å›ä¿®æ”¹å†…å®¹
- è‡ªåŠ¨**ç½®ç°å‹¾é€‰æ¡†**
- æŒ‰é’®æ¢å¤ç°è‰²ä¸å¯ç”¨

```typescript
const [isConfirmed, setIsConfirmed] = useState(false);
const [isModified, setIsModified] = useState(false);

// ç›‘å¬å†…å®¹ä¿®æ”¹
useEffect(() => {
  if (isModified && isConfirmed) {
    setIsConfirmed(false);  // è‡ªåŠ¨å–æ¶ˆç¡®è®¤
  }
}, [isModified]);

// å¤åˆ¶æŒ‰é’®çŠ¶æ€
const canCopy = isConfirmed && !isModified;
```

#### 5.2 æ³¨å…¥æ°´å°ä¸å‰ªè´´æ¿å¤„ç†

**è§¦å‘**: ç‚¹å‡»é«˜äº®çš„ `[ä¸€é”®å¤åˆ¶å…¨éƒ¨]` æŒ‰é’®

**åå°æ‰§è¡Œ**ï¼ˆæ¯«ç§’çº§ï¼‰:

**æ­¥éª¤ A - æ³¨å…¥è´£ä»»å¤´**:
åœ¨ Markdown å†…å®¹æœ€é¡¶ç«¯æ‹¼æ¥å£°æ˜

```markdown
---
ğŸ“‹ ä¼šè®®çºªè¦
ç”Ÿæˆæ—¶é—´ï¼š2026-01-16 14:30:00
è´£ä»»äººï¼šå¼ ä¸‰ï¼ˆç ”å‘éƒ¨ï¼‰
AI å£°æ˜ï¼šæœ¬çºªè¦ç”± AI è¾…åŠ©ç”Ÿæˆï¼Œå·²ç»äººå·¥å®¡æ ¸ç¡®è®¤
---

# ä¼šè®®çºªè¦

## ä¼šè®®æ¦‚è¦
...
```

```typescript
function injectResponsibilityHeader(content: string, user: User): string {
  const header = `---
ğŸ“‹ ä¼šè®®çºªè¦
ç”Ÿæˆæ—¶é—´ï¼š${new Date().toLocaleString('zh-CN')}
è´£ä»»äººï¼š${user.name}ï¼ˆ${user.department}ï¼‰
AI å£°æ˜ï¼šæœ¬çºªè¦ç”± AI è¾…åŠ©ç”Ÿæˆï¼Œå·²ç»äººå·¥å®¡æ ¸ç¡®è®¤
---

`;
  return header + content;
}
```

**æ­¥éª¤ B - å›¾ç‰‡å†…è”**:
ç¡®ä¿æ‰€æœ‰å›¾ç‰‡å·²è½¬ä¸º Base64 ç¼–ç åµŒå…¥

```typescript
async function inlineImages(markdown: string): Promise<string> {
  // æŸ¥æ‰¾æ‰€æœ‰å›¾ç‰‡å¼•ç”¨
  const imageRegex = /!\[([^\]]*)\]\(([^)]+)\)/g;
  let result = markdown;
  
  const matches = [...markdown.matchAll(imageRegex)];
  for (const match of matches) {
    const [fullMatch, alt, url] = match;
    
    // å¦‚æœæ˜¯ URLï¼Œè½¬æ¢ä¸º Base64
    if (url.startsWith('http')) {
      const base64 = await urlToBase64(url);
      result = result.replace(fullMatch, `![${alt}](${base64})`);
    }
  }
  
  return result;
}
```

**æ­¥éª¤ C - å†™å…¥å‰ªè´´æ¿**:
```typescript
async function copyToClipboard() {
  // 1. æ³¨å…¥è´£ä»»å¤´
  let content = injectResponsibilityHeader(
    currentContent,
    currentUser
  );
  
  // 2. å›¾ç‰‡å†…è”
  content = await inlineImages(content);
  
  // 3. å†™å…¥å‰ªè´´æ¿
  await navigator.clipboard.writeText(content);
  
  // 4. Toast æç¤º
  showToast('âœ… å·²å¤åˆ¶ï¼è¯·åˆ‡æ¢è‡³ä¼å¾®æ–‡æ¡£æŒ‰ Ctrl+V ç²˜è´´');
  
  // 5. è®°å½•æ“ä½œæ—¥å¿—
  await api.logCopyAction(taskId, {
    user_id: currentUser.id,
    confirmed: true,
    timestamp: new Date().toISOString(),
  });
}
```

#### 5.3 æœ€ç»ˆç²˜è´´

**ç›®æ ‡å¹³å°**: ä¼ä¸šå¾®ä¿¡æ–‡æ¡£ï¼ˆWeDocï¼‰

**æ“ä½œ**: æŒ‰ä¸‹ `Ctrl+V`

**æ•ˆæœ**: æ ¼å¼å®Œç¾ä¸”æƒè´£æ¸…æ™°çš„æ–‡æ¡£å³åˆ»ä¸Šå±

---

## ğŸ¨ UI/UX è®¾è®¡è¦ç‚¹

### 1. å“åº”å¼è®¾è®¡
- æ¡Œé¢ç«¯ï¼šå·¦å³åˆ†å±ï¼ˆ6:4 æ¯”ä¾‹ï¼‰
- å¹³æ¿ç«¯ï¼šä¸Šä¸‹åˆ†å±æˆ– Tabs åˆ‡æ¢
- ç§»åŠ¨ç«¯ï¼šä»…æ˜¾ç¤ºçºªè¦ï¼ˆé€å­—ç¨¿æŠ˜å ï¼‰

### 2. äº¤äº’åé¦ˆ
- æ‹–æ‹½ä¸Šä¼ ï¼šæ˜¾ç¤ºæ‹–æ‹½åŒºåŸŸé«˜äº®
- æ–‡ä»¶æ’åºï¼šæ‹–æ‹½æ—¶æ˜¾ç¤ºæ’å…¥ä½ç½®
- éŸ³é¢‘è·³è½¬ï¼šç‚¹å‡»æ—¶é—´æˆ³æœ‰è§†è§‰åé¦ˆ
- è¯´è¯äººä¿®æ­£ï¼šæ°”æ³¡èœå•åŠ¨ç”»
- ç¡®è®¤å‹¾é€‰ï¼šå¾®åŠ¨æ•ˆæç¤º
- å¤åˆ¶æˆåŠŸï¼šToast æç¤º

### 3. æ€§èƒ½ä¼˜åŒ–
- éŸ³é¢‘æ³¢å½¢å›¾ï¼šä½¿ç”¨ Canvas æ¸²æŸ“
- é•¿æ–‡æœ¬ï¼šè™šæ‹Ÿæ»šåŠ¨
- å›¾ç‰‡ï¼šæ‡’åŠ è½½
- è‡ªåŠ¨ä¿å­˜ï¼šé˜²æŠ– 3 ç§’

### 4. é”™è¯¯å¤„ç†
- ä¸Šä¼ å¤±è´¥ï¼šæ˜¾ç¤ºé”™è¯¯åŸå› ï¼Œæ”¯æŒé‡è¯•
- å¤„ç†å¤±è´¥ï¼šä¼å¾®é€šçŸ¥ + é¡µé¢æç¤º
- ç½‘ç»œæ–­å¼€ï¼šæœ¬åœ°ç¼“å­˜ï¼Œæ¢å¤ååŒæ­¥

---

## ğŸ“Š æ•°æ®æµè½¬

```
å½•éŸ³ç¬” â†’ USB â†’ æœ¬åœ°æ–‡ä»¶
  â†“
æ‹–æ‹½ä¸Šä¼  â†’ å‰ç«¯æš‚å­˜
  â†“
ç‚¹å‡»"å¼€å§‹æ•´ç†" â†’ ä¸Šä¼ åˆ°æœåŠ¡å™¨
  â†“
åå°å¤„ç†ï¼ˆASR â†’ å£°çº¹ â†’ LLMï¼‰
  â†“
ä¼å¾®é€šçŸ¥ â† å¤„ç†å®Œæˆ
  â†“
æ‰“å¼€å·¥ä½œå° â† ç‚¹å‡»é“¾æ¥
  â†“
å·¦ä¾§ï¼šé€å­—ç¨¿ + éŸ³é¢‘
å³ä¾§ï¼šAI çºªè¦
  â†“
äººå·¥æ ¡å¯¹ä¸ä¿®æ­£
  â†“
å‹¾é€‰ç¡®è®¤ â†’ ä¸€é”®å¤åˆ¶
  â†“
ç²˜è´´åˆ°ä¼å¾®æ–‡æ¡£ â†’ å®Œæˆ
```

---

## ğŸ”— ç›¸å…³æ–‡æ¡£

- **API æ¥å£**: `docs/FRONTEND_DEVELOPMENT_GUIDE.md`
- **åŠŸèƒ½æ¸…å•**: `docs/FRONTEND_FEATURE_CHECKLIST.md`
- **å®æ–½è·¯çº¿å›¾**: `docs/FRONTEND_IMPLEMENTATION_ROADMAP.md`

---

**ç»´æŠ¤è€…**: å‰ç«¯å¼€å‘å›¢é˜Ÿ  
**æœ€åæ›´æ–°**: 2026-01-16
